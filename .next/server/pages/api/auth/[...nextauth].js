"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "ethers":
/*!*************************!*\
  !*** external "ethers" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("ethers");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/react":
/*!**********************************!*\
  !*** external "next-auth/react" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("next-auth/react");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "siwe":
/*!***********************!*\
  !*** external "siwe" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("siwe");

/***/ }),

/***/ "(api)/./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/[...nextauth].ts */ \"(api)/./pages/api/auth/[...nextauth].ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjhfQGJhYmVsK2NvcmVANy4yNS4yX3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX3Nhc3NAMS43OC4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYXV0aCUyRiU1Qi4uLm5leHRhdXRoJTVEJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZhdXRoJTJGJTVCLi4ubmV4dGF1dGglNUQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDOEQ7QUFDOUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaWxsYm9hcmQvP2Q5NzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ auth),\n/* harmony export */   getAuthOptions: () => (/* binding */ getAuthOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/react */ \"next-auth/react\");\n/* harmony import */ var next_auth_react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var siwe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! siwe */ \"siwe\");\n/* harmony import */ var siwe__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(siwe__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ethers */ \"ethers\");\n/* harmony import */ var ethers__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(ethers__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nfunction getAuthOptions(req) {\n    const providers = [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            async authorize (credentials) {\n                try {\n                    const siwe = new siwe__WEBPACK_IMPORTED_MODULE_3__.SiweMessage(JSON.parse(credentials?.message || \"{}\"));\n                    let message = siwe.prepareMessage();\n                    const nextAuthUrl = process.env.NEXTAUTH_URL || (process.env.VERCEL_URL ? `https://${process.env.VERCEL_URL}` : null);\n                    if (!nextAuthUrl) {\n                        console.error(\"NEXTAUTH_URL is not set\");\n                        return null;\n                    }\n                    const nextAuthHost = new URL(nextAuthUrl).host;\n                    if (siwe.domain !== nextAuthHost) {\n                        console.error(`Invalid domain: ${siwe.domain} !== ${nextAuthHost}`);\n                        return null;\n                    }\n                    const csrfToken = await (0,next_auth_react__WEBPACK_IMPORTED_MODULE_2__.getCsrfToken)({\n                        req: {\n                            headers: req.headers\n                        }\n                    });\n                    if (siwe.nonce !== csrfToken) {\n                        console.error(`Invalid nonce: ${siwe.nonce} !== ${csrfToken}`);\n                        return null;\n                    }\n                    // 使用 ethers.js 验证签名\n                    const messageHash = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.hashMessage(message);\n                    const addressFromSignature = ethers__WEBPACK_IMPORTED_MODULE_4__.ethers.utils.recoverAddress(messageHash, credentials?.signature || \"\");\n                    if (addressFromSignature.toLowerCase() !== siwe.address.toLowerCase()) {\n                        console.error(`Signature verification failed: ${addressFromSignature} !== ${siwe.address}`);\n                        return null;\n                    }\n                    return {\n                        id: siwe.address,\n                        message: message,\n                        signature: credentials?.signature\n                    };\n                } catch (e) {\n                    console.error(\"Error during authorization:\", e);\n                    return null;\n                }\n            },\n            credentials: {\n                message: {\n                    label: \"Message\",\n                    placeholder: \"0x0\",\n                    type: \"text\"\n                },\n                signature: {\n                    label: \"Signature\",\n                    placeholder: \"0x0\",\n                    type: \"text\"\n                }\n            },\n            name: \"Ethereum\"\n        })\n    ];\n    return {\n        callbacks: {\n            async session ({ session, token }) {\n                // session.user.address = token.sub as string;\n                session.address = token.sub;\n                session.user = {\n                    address: token.sub,\n                    message: token.message,\n                    signature: token.signature\n                };\n                return session;\n            },\n            async jwt ({ token, user }) {\n                if (user) {\n                    token.sub = user.id;\n                    // 将签名和信息存储到 token 中\n                    token.message = user.message;\n                    token.signature = user.signature;\n                }\n                return token;\n            },\n            async redirect ({ url, baseUrl }) {\n                if (url.startsWith(baseUrl)) return url;\n                return baseUrl;\n            }\n        },\n        // cookies: {\n        //   sessionToken: {\n        //     name: `sessionid`,\n        //     options: {\n        //       httpOnly: true,\n        //       sameSite: \"lax\",\n        //       path: \"/\",\n        //       secure: process.env.NODE_ENV === \"production\",\n        //     },\n        //   },\n        //   csrfToken: {\n        //     name: `csrftoken`,\n        //     options: {\n        //       httpOnly: false,\n        //       sameSite: \"lax\",\n        //       path: \"/\",\n        //       secure: process.env.NODE_ENV === \"production\",\n        //     },\n        //   },\n        // },\n        providers,\n        secret: process.env.NEXTAUTH_SECRET,\n        session: {\n            strategy: \"jwt\"\n        }\n    };\n}\nasync function auth(req, res) {\n    const authOptions = getAuthOptions(req);\n    if (!Array.isArray(req.query.nextauth)) {\n        res.status(400).send(\"Bad request\");\n        return;\n    }\n    const isDefaultSigninPage = req.method === \"GET\" && req.query.nextauth.find((value)=>value === \"signin\");\n    if (isDefaultSigninPage) {\n        authOptions.providers.pop();\n    }\n    return await next_auth__WEBPACK_IMPORTED_MODULE_0___default()(req, res, authOptions);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UCxZQUFZbkQsU0FBUyxDQUFDOEQsR0FBRztJQUMzQjtJQUVBLE9BQU8sTUFBTXJFLGdEQUFRQSxDQUFDTSxLQUFLbUQsS0FBS0M7QUFDbEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iaWxsYm9hcmQvLi9wYWdlcy9hcGkvYXV0aC9bLi4ubmV4dGF1dGhdLnRzPzJlOGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5jb21pbmdNZXNzYWdlIH0gZnJvbSBcImh0dHBcIjtcbmltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IE5leHRBdXRoLCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzXCI7XG5pbXBvcnQgeyBnZXRDc3JmVG9rZW4gfSBmcm9tIFwibmV4dC1hdXRoL3JlYWN0XCI7XG5pbXBvcnQgeyBTaXdlTWVzc2FnZSB9IGZyb20gXCJzaXdlXCI7XG5pbXBvcnQgeyBldGhlcnMgfSBmcm9tIFwiZXRoZXJzXCI7XG5cbmludGVyZmFjZSBBdXRoQ3JlZGVudGlhbHMge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHNpZ25hdHVyZTogc3RyaW5nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXV0aE9wdGlvbnMocmVxOiBJbmNvbWluZ01lc3NhZ2UpOiBOZXh0QXV0aE9wdGlvbnMge1xuICBjb25zdCBwcm92aWRlcnMgPSBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzaXdlID0gbmV3IFNpd2VNZXNzYWdlKFxuICAgICAgICAgICAgSlNPTi5wYXJzZShjcmVkZW50aWFscz8ubWVzc2FnZSB8fCBcInt9XCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgbWVzc2FnZSA9IHNpd2UucHJlcGFyZU1lc3NhZ2UoKTtcblxuICAgICAgICAgIGNvbnN0IG5leHRBdXRoVXJsID1cbiAgICAgICAgICAgIHByb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTCB8fFxuICAgICAgICAgICAgKHByb2Nlc3MuZW52LlZFUkNFTF9VUkxcbiAgICAgICAgICAgICAgPyBgaHR0cHM6Ly8ke3Byb2Nlc3MuZW52LlZFUkNFTF9VUkx9YFxuICAgICAgICAgICAgICA6IG51bGwpO1xuICAgICAgICAgIGlmICghbmV4dEF1dGhVcmwpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJORVhUQVVUSF9VUkwgaXMgbm90IHNldFwiKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IG5leHRBdXRoSG9zdCA9IG5ldyBVUkwobmV4dEF1dGhVcmwpLmhvc3Q7XG4gICAgICAgICAgaWYgKHNpd2UuZG9tYWluICE9PSBuZXh0QXV0aEhvc3QpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEludmFsaWQgZG9tYWluOiAke3Npd2UuZG9tYWlufSAhPT0gJHtuZXh0QXV0aEhvc3R9YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCBjc3JmVG9rZW4gPSBhd2FpdCBnZXRDc3JmVG9rZW4oe1xuICAgICAgICAgICAgcmVxOiB7IGhlYWRlcnM6IHJlcS5oZWFkZXJzIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHNpd2Uubm9uY2UgIT09IGNzcmZUb2tlbikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSW52YWxpZCBub25jZTogJHtzaXdlLm5vbmNlfSAhPT0gJHtjc3JmVG9rZW59YCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyDkvb/nlKggZXRoZXJzLmpzIOmqjOivgeetvuWQjVxuICAgICAgICAgIGNvbnN0IG1lc3NhZ2VIYXNoID0gZXRoZXJzLnV0aWxzLmhhc2hNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgIGNvbnN0IGFkZHJlc3NGcm9tU2lnbmF0dXJlID0gZXRoZXJzLnV0aWxzLnJlY292ZXJBZGRyZXNzKFxuICAgICAgICAgICAgbWVzc2FnZUhhc2gsXG4gICAgICAgICAgICBjcmVkZW50aWFscz8uc2lnbmF0dXJlIHx8IFwiXCJcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgYWRkcmVzc0Zyb21TaWduYXR1cmUudG9Mb3dlckNhc2UoKSAhPT0gc2l3ZS5hZGRyZXNzLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIGBTaWduYXR1cmUgdmVyaWZpY2F0aW9uIGZhaWxlZDogJHthZGRyZXNzRnJvbVNpZ25hdHVyZX0gIT09ICR7c2l3ZS5hZGRyZXNzfWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHNpd2UuYWRkcmVzcyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBzaWduYXR1cmU6IGNyZWRlbnRpYWxzPy5zaWduYXR1cmUsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgYXV0aG9yaXphdGlvbjpcIiwgZSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjcmVkZW50aWFsczoge1xuICAgICAgICBtZXNzYWdlOiB7IGxhYmVsOiBcIk1lc3NhZ2VcIiwgcGxhY2Vob2xkZXI6IFwiMHgwXCIsIHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICAgIHNpZ25hdHVyZTogeyBsYWJlbDogXCJTaWduYXR1cmVcIiwgcGxhY2Vob2xkZXI6IFwiMHgwXCIsIHR5cGU6IFwidGV4dFwiIH0sXG4gICAgICB9LFxuICAgICAgbmFtZTogXCJFdGhlcmV1bVwiLFxuICAgIH0pLFxuICBdO1xuXG4gIHJldHVybiB7XG4gICAgY2FsbGJhY2tzOiB7XG4gICAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xuICAgICAgICAvLyBzZXNzaW9uLnVzZXIuYWRkcmVzcyA9IHRva2VuLnN1YiBhcyBzdHJpbmc7XG4gICAgICAgIHNlc3Npb24uYWRkcmVzcyA9IHRva2VuLnN1YjtcbiAgICAgICAgc2Vzc2lvbi51c2VyID0ge1xuICAgICAgICAgIGFkZHJlc3M6IHRva2VuLnN1YiBhcyBzdHJpbmcsXG4gICAgICAgICAgbWVzc2FnZTogdG9rZW4ubWVzc2FnZSxcbiAgICAgICAgICBzaWduYXR1cmU6IHRva2VuLnNpZ25hdHVyZSxcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIH0sXG4gICAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9KSB7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgdG9rZW4uc3ViID0gdXNlci5pZDtcblxuICAgICAgICAgIC8vIOWwhuetvuWQjeWSjOS/oeaBr+WtmOWCqOWIsCB0b2tlbiDkuK1cbiAgICAgICAgICB0b2tlbi5tZXNzYWdlID0gKHVzZXIgYXMgYW55KS5tZXNzYWdlO1xuICAgICAgICAgIHRva2VuLnNpZ25hdHVyZSA9ICh1c2VyIGFzIGFueSkuc2lnbmF0dXJlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfSxcbiAgICAgIGFzeW5jIHJlZGlyZWN0KHsgdXJsLCBiYXNlVXJsIH0pIHtcbiAgICAgICAgaWYgKHVybC5zdGFydHNXaXRoKGJhc2VVcmwpKSByZXR1cm4gdXJsO1xuICAgICAgICByZXR1cm4gYmFzZVVybDtcbiAgICAgIH0sXG4gICAgfSxcbiAgICAvLyBjb29raWVzOiB7XG4gICAgLy8gICBzZXNzaW9uVG9rZW46IHtcbiAgICAvLyAgICAgbmFtZTogYHNlc3Npb25pZGAsXG4gICAgLy8gICAgIG9wdGlvbnM6IHtcbiAgICAvLyAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAvLyAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAvLyAgICAgICBwYXRoOiBcIi9cIixcbiAgICAvLyAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIixcbiAgICAvLyAgICAgfSxcbiAgICAvLyAgIH0sXG4gICAgLy8gICBjc3JmVG9rZW46IHtcbiAgICAvLyAgICAgbmFtZTogYGNzcmZ0b2tlbmAsXG4gICAgLy8gICAgIG9wdGlvbnM6IHtcbiAgICAvLyAgICAgICBodHRwT25seTogZmFsc2UsXG4gICAgLy8gICAgICAgc2FtZVNpdGU6IFwibGF4XCIsXG4gICAgLy8gICAgICAgcGF0aDogXCIvXCIsXG4gICAgLy8gICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJwcm9kdWN0aW9uXCIsXG4gICAgLy8gICAgIH0sXG4gICAgLy8gICB9LFxuICAgIC8vIH0sXG4gICAgcHJvdmlkZXJzLFxuICAgIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxuICAgIHNlc3Npb246IHsgc3RyYXRlZ3k6IFwiand0XCIgfSxcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYXV0aChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBjb25zdCBhdXRoT3B0aW9ucyA9IGdldEF1dGhPcHRpb25zKHJlcSk7XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KHJlcS5xdWVyeS5uZXh0YXV0aCkpIHtcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChcIkJhZCByZXF1ZXN0XCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGlzRGVmYXVsdFNpZ25pblBhZ2UgPVxuICAgIHJlcS5tZXRob2QgPT09IFwiR0VUXCIgJiZcbiAgICByZXEucXVlcnkubmV4dGF1dGguZmluZCgodmFsdWUpID0+IHZhbHVlID09PSBcInNpZ25pblwiKTtcblxuICBpZiAoaXNEZWZhdWx0U2lnbmluUGFnZSkge1xuICAgIGF1dGhPcHRpb25zLnByb3ZpZGVycy5wb3AoKTtcbiAgfVxuXG4gIHJldHVybiBhd2FpdCBOZXh0QXV0aChyZXEsIHJlcywgYXV0aE9wdGlvbnMpO1xufVxuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImdldENzcmZUb2tlbiIsIlNpd2VNZXNzYWdlIiwiZXRoZXJzIiwiZ2V0QXV0aE9wdGlvbnMiLCJyZXEiLCJwcm92aWRlcnMiLCJhdXRob3JpemUiLCJjcmVkZW50aWFscyIsInNpd2UiLCJKU09OIiwicGFyc2UiLCJtZXNzYWdlIiwicHJlcGFyZU1lc3NhZ2UiLCJuZXh0QXV0aFVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9VUkwiLCJWRVJDRUxfVVJMIiwiY29uc29sZSIsImVycm9yIiwibmV4dEF1dGhIb3N0IiwiVVJMIiwiaG9zdCIsImRvbWFpbiIsImNzcmZUb2tlbiIsImhlYWRlcnMiLCJub25jZSIsIm1lc3NhZ2VIYXNoIiwidXRpbHMiLCJoYXNoTWVzc2FnZSIsImFkZHJlc3NGcm9tU2lnbmF0dXJlIiwicmVjb3ZlckFkZHJlc3MiLCJzaWduYXR1cmUiLCJ0b0xvd2VyQ2FzZSIsImFkZHJlc3MiLCJpZCIsImUiLCJsYWJlbCIsInBsYWNlaG9sZGVyIiwidHlwZSIsIm5hbWUiLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwidG9rZW4iLCJzdWIiLCJ1c2VyIiwiand0IiwicmVkaXJlY3QiLCJ1cmwiLCJiYXNlVXJsIiwic3RhcnRzV2l0aCIsInNlY3JldCIsIk5FWFRBVVRIX1NFQ1JFVCIsInN0cmF0ZWd5IiwiYXV0aCIsInJlcyIsImF1dGhPcHRpb25zIiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnkiLCJuZXh0YXV0aCIsInN0YXR1cyIsInNlbmQiLCJpc0RlZmF1bHRTaWduaW5QYWdlIiwibWV0aG9kIiwiZmluZCIsInZhbHVlIiwicG9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0"], () => (__webpack_exec__("(api)/./node_modules/.pnpm/next@14.2.8_@babel+core@7.25.2_react-dom@18.3.1_react@18.3.1_sass@1.78.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2F%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();